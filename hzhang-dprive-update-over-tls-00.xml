<?xml version='1.0' encoding='utf-8'?>

<!DOCTYPE rfc SYSTEM "rfc2629-xhtml.ent">
<?xml-stylesheet type='text/xsl' href='rfc2629.xslt' ?>

<rfc
      xmlns:xi="http://www.w3.org/2001/XInclude"
      category="info"
      docName="draft-ietf-xml2rfc-template-06"
      ipr="trust200902"
      obsoletes=""
      updates=""
      submissionType="IETF"
      xml:lang="en"
      tocInclude="true"
      tocDepth="4"
      symRefs="true"
      sortRefs="true"
      version="3">
 <front>
    
   <title abbrev="Abbreviated Title">Dynamic Updates over TLS</title>
    <seriesInfo name="Internet-Draft" value="draft-ietf-xml2rfc-template-06"/>
   
  <author initials="Han." surname="Zhang" fullname="Han Zhang">
  <organization>Salesforce</organization>
  <address>
  <postal>
  <street></street>
  <city>Herndon, VA</city>
  <code></code>
  <country>United States</country>
  <region></region>
  </postal>
  <phone></phone>
  <email>paras@salesforce.com</email>
  <uri></uri>
  </address>
  </author>
  <author initials="P." surname="Aras" fullname="Pallavi Aras">
  <organization>Salesforce</organization>
  <address>
  <postal>
  <street></street>
  <city>Herndon, VA</city>
  <code></code>
  <country>United States</country>
  <region></region>
  </postal>
  <phone></phone>
  <email>paras@salesforce.com</email>
  <uri></uri>
  </address>
  </author>
  <author initials="S." surname="" fullname="Sidan">
  <organization>Salesforce</organization>
  <address>
  <postal>
  <street></street>
  <city>Herndon, VA</city>
  <code></code>
  <country>United States</country>
  <region></region>
  </postal>
  <phone></phone>
  <email>paras@salesforce.com</email>
  <uri></uri>
  </address>
  </author>


  <date year="2021" month="May" day="20"/>
   

  <area>Internet</area>
  <workgroup>dprive</workgroup>
  <keyword>DNS</keyword>
  <keyword>operations</keyword>
  <keyword>privacy</keyword>
  
   <abstract>
      <t>DNS dynamic updates are transmitted in clear text, allowing attackers the opportunity to collect the content of updates to a zone by eavesdropping on network connections. RFC3007 defines a means to secure dynamic updates, allowing only authorized sources to make changes to a zone's contents, but it does not add confidentiality. This document specifies the use of TLS, rather than clear text, to prevent zone content collection via passive monitoring of dynamic updates: dynamic updates over TLS (DUoT).</t>
    </abstract>
  </front>
  <middle>
    <section numbered="true" toc="default">
      <name>Introduction</name>
      <t>DNS privacy vulnerabilities, are discussed in detail in <xref target="RFC7626"/>. Stub client to recursive resolver query privacy is now standards track for both DNS-over-TLS (DoT) <xref target="RFC7858" /> and DNS-over-HTTPS (DoH) <xref target="RFC8484"/>, and a proposal for DNS-over-QUIC is underway <xref target="I-D.ietf-dprive-dnsoquic"/>. There is ongoing work on DNS privacy requirements for exchanges between recursive resolvers and authoritative servers <xref target="#I-D.ietf-dprive-phase2-requirements"/> (TODO add info about dot ALPN )</t>
       <t>The contents of a zone could include sensitive information such as names of persons or customer coprporations. Best practice is not to use personal information for domain names, but many such domain names exist. <xref target="RFC5155"/> specifies NSEC3, a mechanism to provide measures against zone enumeration for DNSSEC signed zones, but it does not address data obtained outside zone enumeration. <xref target="I-D.draft-ietf-dprive-xfr-over-tls"/> prevents zone content collection via passive monitoring of zone transfers: XFR-over-TLS (XoT). However, besides XFR, a zone can also be updated by dynamic updates that is specified in <xref target="RFC3007FC2136"/>. 
     </t>
      <t>
        <xref target="RFC3007"/> defines means to secure dynamic updates using TSIG  <xref target="RFC8945"/> or SIG(0)  <xref target="RFC2931" />, allowing only authorized sources to make changes to a zone's contents. Section 8.1.5 of NIST guide  <xref target="nist-guide"/> specifies restricting Dynamic Update transaction Entities using IP-based ACL.

         <xref target="RFC2931"/> recommends default UDP transport for Dynamic Updates and has following recommendation for TCP usage. 
         <figure align="center"><artwork align="center">
         If the requestor used
            TCP, then the response will be sent back on the requestor's open TCP
          </artwork></figure>
          This document updates the recommendation of <xref target="RFC2931"/> to use DNS-over-TLS <xref target="RFC7858"/> to prevent zone content collection from passive monitoring of dynamic updates to a zone.
     </t>
    </section>
      <section numbered="true" toc="default">
        <name>Terminology</name>
        <t>The key words &quot;MUST&quot;, &quot;MUST NOT&quot;, &quot;REQUIRED&quot;, &quot;SHALL&quot;, &quot;SHALL NOT&quot;, &quot;SHOULD&quot;,
        &quot;SHOULD NOT&quot;, &quot;RECOMMENDED&quot;, &quot;NOT RECOMMENDED&quot;, &quot;MAY&quot;, and &quot;OPTIONAL&quot; in this
        document are to be interpreted as described in BCP 14 <xref target="RFC2119"/> and
        <xref target="RFC8174"/> when, and only when, they appear in all capitals, as shown here.
        </t>
        <t>Privacy terminology is as described in Section 3 of <xref target="RFC6973"/>.
        </t>
        <t>DNS terminology is as described in <xref target="RFC8499"/>. Note that as in <xref target="RFC8499"/>, the
        terms 'primary master' refers to a server that is at the root of AXFR/IXFR depency graph and receives updates from UPDATE transation.
        </t>
        <t>DNS terminology is as described in <xref target="2136"/>. Note that as in <xref target="RFC2136"/>, the
        terms 'forwarding' refers to a secondary that forwards an UPDATE message upward toward the zone's
        primary master server
        <t>DoT: DNS-over-TLS as specified in <xref target="RFC7858"/>
        </t>
        <t>Dynamic Update (DU): This is Dynamic Update as specified by <xref target="2136"/> which can occur over UDP/TCP.
        </t>
        <t>Dynamic Update Requestor (DUR) : This is a new term introduced in this draft and formally defines the "Requestor" specified in section 4 of <xref target="2136"/> .
        </t>
        <t>Dynamic Update ove TLS (DUoT): This is a new term introduced in this draft to specify Dyamic Update over TLS.
        </t>
        
      </section>
    </section>
    <section anchor="specification" numbered="true" toc="default">
      <name> Specfication</name>
      <t> <a href="#RFC2136">[RFC2136]</a> specifies that "An update transaction may be carried in a UDP datagram, if the request fits, or in a TCP connection". With dynamic updates over tls, all the dynamic updates should be transmitted in tcp. </t>
       <t> For a dynamic update between two end points to be considered protected with DUoT all update requests and response for that zone MUST be sent over TLS connections where at a minimum:  </t>
       <ul>
        <li>the client MUST authenticate the server by use of an authentication domain name using a Strict Privacy Profile as described in <a href="#RFC8310">[RFC8310]</a></li>
       </ul>
       <t> The server MAY also require a valid TSIG/SIG(0) signature, but this alone is not sufficient to authenticate the client or server.   </t>
    </section>
    
   <section numbered="true" toc="default">
      <name>Authentication</name>
      <section numbered="true" toc="default">
        <name>TSIG/SIG(0)</name>
        <t>By default 3 levels of nesting show in table of contents but that
       can be adjusted with the value of the "tocdepth" processing
       instruction.</t>
      </section>
      <section numbered="true" toc="default">
        <name>>Opportunistic TLS</name>
      </section>
     <section numbered="true" toc="default">
        <name>>Mutual TLS</name>
      </section>
    </section>
    <section numbered="true" toc="default">
      <name>Forwarding</name>
      <t>When a zone secondary forwards an UPDATE message upward toward the zone's primary server, the forwarder should try TLS first, then fall back to either UDP or TCP to forward the message, at the whim of the implementor. </t>
    </section>
     <section numbered="true" toc="default">
      <name>Implementation Considerations</name>
      <t> Reference implentation </t>
    </section>

    <section anchor="Acknowledgements" numbered="true" toc="default">
      <name>Acknowledgements</name>
      <t>Significant contributions to the document were made by:</t>
    </section>
    <!-- Possibly a 'Contributors' section ... -->

   <section anchor="IANA" numbered="true" toc="default">
      <name>IANA Considerations</name>
      <t>This memo includes no request to IANA.</t>
      <t>All drafts are required to have an IANA considerations section (see
     <xref target="RFC5226" format="default">Guidelines for Writing an IANA Considerations Section in RFCs</xref> for a guide). If the draft does not require IANA to do
     anything, the section contains an explicit statement that this is the
     case (as above). If there are no requirements for IANA, the section will
     be removed during conversion into an RFC by the RFC Editor.</t>
    </section>
    <section anchor="Security" numbered="true" toc="default">
      <name>Security Considerations</name>
      <t>All drafts are required to have a security considerations section.
     See <xref target="RFC3552" format="default">RFC 3552</xref> for a guide.</t>
    </section>
  </middle>
  

 <back>
    

   <references>
      <name>References</name>
      <references>
        <name>Normative References</name>
     <reference anchor="RFC2136" target="https://www.rfc-editor.org/info/rfc2136" xml:base="https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.2119.xml">
          <front>
            <title>Key words for use in RFCs to Indicate Requirement Levels</title>
            <seriesInfo name="DOI" value="10.17487/RFC2119"/>
            <seriesInfo name="RFC" value="2119"/>
            <seriesInfo name="BCP" value="14"/>
            <author initials="S." surname="Bradner" fullname="S. Bradner">
              <organization/>
            </author>
            <date year="1997" month="March"/>
            <abstract>
              <t>In many standards track documents several words are used to signify the requirements in the specification.  These words are often capitalized. This document defines these words as they should be interpreted in IETF documents.  This document specifies an Internet Best Current Practices for the Internet Community, and requests discussion and suggestions for improvements.</t>
            </abstract>
          </front>
        </reference>
    
      <references>
        <name>Informative References</name>
       
     <reference anchor="RFC8499" target="https://www.rfc-editor.org/info/rfc8499" xml:base="https://xml2rfc.tools.ietf.org/public/rfc/bibxml/reference.RFC.2629.xml">
          <front>
            <title>Writing I-Ds and RFCs using XML</title>
            <seriesInfo name="DOI" value="10.17487/RFC2629"/>
            <seriesInfo name="RFC" value="8499"/>
            <author initials="M." surname="Rose" fullname="M. Rose">
              <organization/>
            </author>
            <date year="1999" month="June"/>
            <abstract>
              <t>This memo presents a technique for using XML (Extensible Markup Language) as a source format for documents in the Internet-Drafts (I-Ds) and Request for Comments (RFC) series.  This memo provides information for the Internet community.</t>
            </abstract>
          </front>
        </reference>
       
    </references>
    <section anchor="app-additional" numbered="true" toc="default">
      <name>Additional Stuff</name>
      <t>This becomes an Appendix.</t>
    </section>
    
    -->
 </back>
</rfc>
